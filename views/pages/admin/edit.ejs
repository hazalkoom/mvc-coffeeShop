<%- include('../../partials/Aheader') %>

<div class="page-header">
    <h1>Edit Product: <%= product.product_name %></h1>
</div>

<% if (typeof error !== 'undefined' && error) { %>
    <div class="alert alert-error">
        <strong>Error!</strong> <%= error %>
    </div>
<% } %>

<div class="card">
    <form action="/admin/products/<%= product.product_id %>/edit" method="POST">
        <div class="form-grid">
            <div class="form-group">
                <label for="product_name">Product Name</label>
                <input type="text" id="product_name" name="product_name" class="form-control" required value="<%= product.product_name %>">
            </div>
            <div class="form-group">
                <label for="brand">Brand</label>
                <input type="text" id="brand" name="brand" class="form-control" required value="<%= product.brand %>">
            </div>
            <div class="form-group">
                <label for="category">Category</label>
                <select id="category" name="category" class="form-control" required>
                    <% categories.forEach(cat => { %>
                        <option value="<%= cat.category_name %>" <%= product.category === cat.category_name ? 'selected' : '' %>><%= cat.category_name %></option>
                    <% }) %>
                </select>
            </div>
            <div class="form-group">
                <label for="country">Country</label>
                <input type="text" id="country" name="country" class="form-control" value="<%= product.country %>">
            </div>
            <div class="form-group">
                <label for="price">Price</label>
                <input type="number" id="price" name="price" step="0.01" class="form-control" required value="<%= product.price %>">
            </div>
            <div class="form-group">
                <label for="image_url">Large Image URL</label>
                <input type="text" id="image_url" name="image_url" class="form-control" value="<%= product.image_url %>">
            </div>
            <div class="form-group">
                <label for="image_small_url">Small Image URL (Thumbnail)</label>
                <input type="text" id="image_small_url" name="image_small_url" class="form-control" value="<%= product.image_small_url %>">
            </div>
        </div>
        <div class="form-actions">
            <a href="/admin/products" class="btn btn-secondary">Cancel</a>
            <button type="submit" class="btn btn-primary">Update Product</button>
        </div>
    </form>
</div>

<%- include('../../partials/Afooter') %>

